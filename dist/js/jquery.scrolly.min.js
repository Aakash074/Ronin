!function(a){function f(e,t){var n,r,o;if(0==(n=a(e))[l])return s;switch(r=n[i]()[c],t.anchor){case"middle":o=r-(a(window).height()-n.outerHeight())/2;break;default:case c:o=Math.max(r,0)}return"function"==typeof t[i]?o-=t[i]():o-=t[i],o}var l="length",s=null,c="top",i="offset",h="click.scrolly";a(window);a.fn.scrolly=function(e){var t,n,r,o,i=a(this);if(0==this[l])return i;if(1<this[l]){for(t=0;t<this[l];t++)a(this[t]).scrolly(e);return i}if(o=s,"#"!=(r=i.attr("href")).charAt(0)||r[l]<2)return i;(n=jQuery.extend({anchor:c,easing:"swing",offset:0,parent:a("body,html"),pollOnce:!1,speed:1e3},e)).pollOnce&&(o=f(r,n)),i.off(h).on(h,function(e){var t=o!==s?o:f(r,n);t!==s&&(e.preventDefault(),n.parent.stop().animate({scrollTop:t},n.speed,n.easing))})}}(jQuery);